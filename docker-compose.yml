services:
  meshbot:
    # Use public image (recommended)
    image: ghcr.io/ipnet-mesh/meshbot:main

    # Or build locally (uncomment to build from source)
    # build: .

    container_name: meshbot
    restart: unless-stopped

    # Uncomment to mount serial devices
    # devices:
    #   - "/dev/ttyUSB0:/dev/ttyUSB0"

    # Optional: Override default command with arguments
    # Examples:
    # - Run with serial connection:
    # command: ["run", "--meshcore-connection-type", "serial", "--meshcore-port", "/dev/ttyUSB0"]
    # - Run with custom node name and serial connection:
    # command: ["run", "--meshcore-node-name", "MyBot", "--meshcore-connection-type", "serial", "--meshcore-port", "/dev/ttyUSB0", "--meshcore-baudrate", "115200"]
    # - Run with verbose logging:
    # command: ["run", "-vv", "--meshcore-connection-type", "serial", "--meshcore-port", "/dev/ttyUSB0"]

    # Optional: Set environment variables (alternative to command-line arguments)
    # environment:
    #   - LLM_MODEL=openai:gpt-4o-mini
    #   - LLM_API_KEY=your_api_key_here
    #   - MESHCORE_NODE_NAME=MeshBot
    #   - MESHCORE_CONNECTION_TYPE=serial
    #   - MESHCORE_PORT=/dev/ttyUSB0
    #   - LOG_LEVEL=INFO
